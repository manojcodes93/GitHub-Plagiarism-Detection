{% extends "base.html" %}
{% block content %}

<h2>Commit Message Similarity Detection</h2>

{% if data.suspicious_commits|length == 0 %}
    <p>No suspicious commit messages detected.</p>
{% else %}
<table>
    <tr>
        <th>Commit Message A</th>
        <th>Commit Message B</th>
        <th>Similarity</th>
    </tr>
    {% for item in data.suspicious_commits %}
    <tr>
        <td>{{ item.commit_1 }}</td>
        <td>{{ item.commit_2 }}</td>
        <td>{{ item.similarity }}</td>
    </tr>
    {% endfor %}
</table>
{% endif %}

<h3>Download Report</h3>
<a href="/download/csv"><button>Download CSV</button></a>
<a href="/download/pdf"><button>Download PDF</button></a>

<h2>Side‑by‑Side Code Proof</h2>
<div class="code-compare">
    <pre class="code-block">{{ data.code_left | safe }}</pre>
    <pre class="code-block">{{ data.code_right | safe }}</pre>
</div>

{% endblock %}
